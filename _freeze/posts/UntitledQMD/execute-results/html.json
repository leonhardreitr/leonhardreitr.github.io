{
  "hash": "256b16564530e185d905bf2f28ceb8a5",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"A Pun about Forests\"\ndescription: \"In this blog post I want to write about a somewhat newer technique in the context of meta-analyses `Metaforest`. Developed by Caspar van Lissa CITE, the goal of it is\nto explore between-study heterogeneity by identifiying possibe moderators.\nIt does so by using the random forest algorithm, which is non-parametic and thus useful in samll-sample situations.\"\nbibliography: blog.bib\ntoc: true\ntoc-title: Sections\n#csl: apa.csl\nauthor:\n  - name: Leonhard Reiter\n    url: https://leonhardreitr.github.io\n    orcid: 0000-0002-2400-7907\n    affiliation: Department of Occupational, Economic, and Social Psychology, Faculty of Psychology, University of Vienna\n    affiliation-url: https://social-econ-psych.univie.ac.at\ndate: 05-20-2024\ncategories: [Random Forest, R, Meta-Analysis, Machine Learning, Heterogeneity] # self-defined categories\n#citation: \n # url: https://samanthacsik.github.io/posts/2022-10-24-my-blog-post/ \n#image: preview-image.png\ndraft: TRUE # setting this to `true` will prevent your post from appearing on your listing page until you're ready!\neditor_options: \n  chunk_output_type: console\n---\n\nA lot of ink has been spilled about how to deal with between-study heterogeneity ($\\zeta$) in meta-analyses. Depending on your underlying model - e.g. Equal or Random Effects - different ways of thought exist. Most commonly researchers employ meta-regression (aka subgroup-analysis) to test potential,\na-priori defined moderators CITE LISSA 2018. However, one would need to know explicitly know what influences $\\zeta$. Furhter most meta-analyses simply lack the power to reliably detect such effects. Although meta-analyses often claim to have large samples, meaning the samples of the inlcuded studies, the level of analysis is on study level. Thus the total sample of all included studies can be huge, even though the actual sample used in meta-regression is small.\nAs such meta-analyses have a small-sample problem. So many potential moderators and only a small sample, sounds like the course of dimonensality to me.\n\n# Trees\n\nUsing only a single tree can have severe limitations. \n\n# The code\nWe will used data from the 'metafor' package.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse) # all things nice\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(metafor) # data and rma()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: Matrix\n\nAttaching package: 'Matrix'\n\nThe following objects are masked from 'package:tidyr':\n\n    expand, pack, unpack\n\nLoading required package: metadat\nLoading required package: numDeriv\n\nLoading the 'metafor' package (version 4.6-0). For an\nintroduction to the package please type: help(metafor)\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(metaforest) # forest\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: ranger\nLoading required package: data.table\n\nAttaching package: 'data.table'\n\nThe following objects are masked from 'package:lubridate':\n\n    hour, isoweek, mday, minute, month, quarter, second, wday, week,\n    yday, year\n\nThe following objects are masked from 'package:dplyr':\n\n    between, first, last\n\nThe following object is masked from 'package:purrr':\n\n    transpose\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(metaviz) # plots\n\nd <- dat.white2020 |>\n  # calc effect sizes\n  escalc(\n    measure = \"ZCOR\",\n    ri = r,\n    ni = n,\n    data = _\n  )\n```\n:::\n\n\nWe will first fit a three-level model:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmod <- rma.mv(\n  yi,\n  vi,\n  random = list(~ 1 | study_id, ~ 1 | obs),\n  data = d\n  )\n\nsummary(mod)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nMultivariate Meta-Analysis Model (k = 186; method: REML)\n\n  logLik  Deviance       AIC       BIC      AICc   \n-84.3970  168.7940  174.7940  184.4550  174.9266   \n\nVariance Components:\n\n            estim    sqrt  nlvls  fixed    factor \nsigma^2.1  0.0153  0.1237     41     no  study_id \nsigma^2.2  0.0649  0.2548    186     no       obs \n\nTest for Heterogeneity:\nQ(df = 185) = 759.2939, p-val < .0001\n\nModel Results:\n\nestimate      se    zval    pval   ci.lb   ci.ub      \n  0.1573  0.0329  4.7742  <.0001  0.0927  0.2218  *** \n\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n\n\n:::\n:::\n\n\nNow it is time for `metaforest`\n\n",
    "supporting": [
      "UntitledQMD_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}